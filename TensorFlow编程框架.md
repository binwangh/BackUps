# 单机程序编程框架

![](https://i.imgur.com/za8LVV3.jpg)

典型的单机程序：MNIST softmax模型的训练与推理程序。

单机程序是指**启动和运行都仅在一台机器的一个进程中**完成的程序。

- 单机程序编程框架的关键步骤：
	- 创建单机数据流图（Graph）
		- 输入数据集的占位符（placeholder）
		- 保存模型参数的变量（Variable）
		- 前向图和后向图中的计算操作（Operation）
	- 创建单机会话（DirectSession）
		- 变量初始化操作（init_op）
		- 模型的恢复和保存操作
		- 单步推理（inference_op）
		- 单步训练（train_op）

单机程序的计算形态主要分为**推理（预测）态**和**训练态**。
	
	推理（预测）态：仅执行推理操作，计算得到推理或预测结果
	训练态：依次执行前向图的推理计算和后向图的梯度计算，并完成模型参数的更新

